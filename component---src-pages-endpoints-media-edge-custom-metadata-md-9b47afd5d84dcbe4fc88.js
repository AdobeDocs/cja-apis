"use strict";(self.webpackChunkcja_apis=self.webpackChunkcja_apis||[]).push([[3282],{84677:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return m},default:function(){return c}});var n,r=a(87462),d=a(63366),i=(a(15007),a(64983)),o=a(91515),s=["components"],m={},l=(n="InlineAlert",function(e){return console.warn("Component "+n+" was not imported, exported, or provided by MDXProvider as global scope"),(0,i.mdx)("div",e)}),p={_frontmatter:m},u=o.Z;function c(e){var t=e.components,a=(0,d.Z)(e,s);return(0,i.mdx)(u,(0,r.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,i.mdx)("h1",{id:"create-custom-metadata-for-media-edge-apis"},"Create custom metadata for Media Edge APIs"),(0,i.mdx)("p",null,"Custom metadata in ",(0,i.mdx)("a",{parentName:"p",href:"index.md"},"Media Edge APIs")," allows for the inclusion of additional, user-defined metadata that can be customized for specific needs or contexts. This flexibility is useful in scenarios where existing schemas do not cover desired data points. For example, by using custom metadata, you can create new dimensions and metrics with API requests. "),(0,i.mdx)("p",null,"Custom metadata keys can be added to an XDM schema with the ",(0,i.mdx)("inlineCode",{parentName:"p"},"sessionStart"),", ",(0,i.mdx)("inlineCode",{parentName:"p"},"chapterStart"),", and ",(0,i.mdx)("inlineCode",{parentName:"p"},"adStart")," endpoint requests. To structure requests with these endpoints, see the ",(0,i.mdx)("a",{parentName:"p",href:"getting-started.md"},"Media Edge API getting started guide"),"."),(0,i.mdx)("p",null,"Creating custom metadata does not correlate the data to any behavior of the endpoint request itself. The custom metadata is created as if it were a separate function within the request. It can then be used for subsequent data tracking or processing."),(0,i.mdx)("p",null,"To create custom metadata, follow these steps:"),(0,i.mdx)("ol",null,(0,i.mdx)("li",{parentName:"ol"},(0,i.mdx)("p",{parentName:"li"},(0,i.mdx)("a",{parentName:"p",href:"https://experienceleague.adobe.com/en/docs/experience-platform/xdm/ui/resources/field-groups#create"},"Add a custom field group")," to your defined media schema. ")),(0,i.mdx)("li",{parentName:"ol"},(0,i.mdx)("p",{parentName:"li"},"To the custom field group, add a ",(0,i.mdx)("a",{parentName:"p",href:"https://experienceleague.adobe.com/en/docs/experience-platform/xdm/ui/resources/field-groups#add-fields"},"custom field")," that you want to track.")),(0,i.mdx)("li",{parentName:"ol"},(0,i.mdx)("p",{parentName:"li"},(0,i.mdx)("a",{parentName:"p",href:"https://experienceleague.adobe.com/en/docs/experience-platform/xdm/ui/fields/overview#type-specific-properties"},"Use the path generated")," for the custom field in your request payload.")),(0,i.mdx)("li",{parentName:"ol"},(0,i.mdx)("p",{parentName:"li"},"Include a ",(0,i.mdx)("inlineCode",{parentName:"p"},"customMetadata")," array with the ",(0,i.mdx)("inlineCode",{parentName:"p"},"name")," and ",(0,i.mdx)("inlineCode",{parentName:"p"},"value")," keys in your API request as shown in the example below. Make sure that the first part of the custom ",(0,i.mdx)("inlineCode",{parentName:"p"},"name")," includes the path generated in the previous step."))),(0,i.mdx)("h2",{id:"example-custom-metadata"},"Example custom metadata"),(0,i.mdx)("p",null,"In the following example, the ",(0,i.mdx)("inlineCode",{parentName:"p"},"customMetadata")," fields are used to create ",(0,i.mdx)("inlineCode",{parentName:"p"},"customUserID")," and its associated ",(0,i.mdx)("inlineCode",{parentName:"p"},"value"),". This can be used subsequently for more data analysis in Customer Journey Analytics or other clients:"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-curl"},'curl --location \'https://edge.adobedc.net/ee-pre-prd/va/v1/sessionStart?configId=599ca3ec-4a21-4659-8dff-xxxxxxxxxxxx\' \\\n--header \'Content-Type: application/json\' \\\n--data \'{\n    "events": [\n        {\n            "xdm": {\n                "mediaCollection": {\n                    "sessionDetails": {\n                        "channel": "sample-broadcastChannel",\n                        "friendlyName": "Sample 1",\n                        "contentType": "VOD",\n                        "playerName": "Native player ios",\n                        "streamType": "video",\n                        "length": 100,\n                        "name": "b43b093ff987e8744444"\n                    },\n                    "playhead": 0,\n                    "customMetadata": [\n                        {\n                            "name": "_expath.customUserID",\n                            "value": "5791626"\n                        }\n                    ]\n                },\n                "timestamp": "YYYY-10-19T10:23:57Z",\n                "eventType": "media.sessionStart"\n            }\n        }\n    ]\n}\'\n')),(0,i.mdx)("h2",{id:"request-example-details"},"Request example details"),(0,i.mdx)("p",null,"The request example shows the following details:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("p",{parentName:"li"},"The custom metadata is included in the payload of a ",(0,i.mdx)("inlineCode",{parentName:"p"},"sessionStart")," endpoint request.")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("p",{parentName:"li"},"Location in the JSON: the ",(0,i.mdx)("inlineCode",{parentName:"p"},"customMetadata")," array is nested within the ",(0,i.mdx)("inlineCode",{parentName:"p"},"mediaCollection")," object, which is within the ",(0,i.mdx)("inlineCode",{parentName:"p"},"xdm")," object of an event. ")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("p",{parentName:"li"},"The ",(0,i.mdx)("inlineCode",{parentName:"p"},"name")," key is specified as ",(0,i.mdx)("inlineCode",{parentName:"p"},"_expath.customUserID"),". This can possibly be used as either a metric or a dimension. The ",(0,i.mdx)("inlineCode",{parentName:"p"},"_expath")," portion of this name is the path generated in step three above.")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("p",{parentName:"li"},"The ",(0,i.mdx)("inlineCode",{parentName:"p"},"value")," key for the custom metadata is ",(0,i.mdx)("inlineCode",{parentName:"p"},"5791626"),"."))),(0,i.mdx)("h2",{id:"media-edge-api-status-codes"},"Media Edge API status codes"),(0,i.mdx)("p",null,"Each API request returns an HTTP status code that reflects the result, as follows:"),(0,i.mdx)("table",null,(0,i.mdx)("thead",{parentName:"table"},(0,i.mdx)("tr",{parentName:"thead"},(0,i.mdx)("th",{parentName:"tr",align:null},"HTTP code"),(0,i.mdx)("th",{parentName:"tr",align:null},"Meaning"),(0,i.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,i.mdx)("tbody",{parentName:"table"},(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},"200"),(0,i.mdx)("td",{parentName:"tr",align:null},"Success"),(0,i.mdx)("td",{parentName:"tr",align:null},"A successful ",(0,i.mdx)("inlineCode",{parentName:"td"},"sessionStart")," request returns a ",(0,i.mdx)("inlineCode",{parentName:"td"},"200 OK")," code with some data in the response, including a Session ID.")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},"204"),(0,i.mdx)("td",{parentName:"tr",align:null},"Success"),(0,i.mdx)("td",{parentName:"tr",align:null},"A ",(0,i.mdx)("inlineCode",{parentName:"td"},"204 No Content")," code is returned for all successful requests other than the ",(0,i.mdx)("inlineCode",{parentName:"td"},"sessionStart"),".")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},"400"),(0,i.mdx)("td",{parentName:"tr",align:null},"Bad Request"),(0,i.mdx)("td",{parentName:"tr",align:null},"The request was improperly constructed, missing key information, and/or contained incorrect syntax. This error code could indicate a problem such as a missing required parameter or the supplied data did not pass validation.")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},"401"),(0,i.mdx)("td",{parentName:"tr",align:null},"Authentication failed"),(0,i.mdx)("td",{parentName:"tr",align:null},"The request did not pass an authentication check. Your access token may be missing or invalid. Similarly, you may have attempted to access an object that requires administrator permissions.")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},"403"),(0,i.mdx)("td",{parentName:"tr",align:null},"Forbidden"),(0,i.mdx)("td",{parentName:"tr",align:null},"The resource was found, but you do not have the right credentials to view it. You might not have the required permissions to access or edit the resource for reasons not applicable to status code 401.")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},"404"),(0,i.mdx)("td",{parentName:"tr",align:null},"Not found"),(0,i.mdx)("td",{parentName:"tr",align:null},"The requested resource could not be found on the server. The resource may have been deleted, or the requested path was entered incorrectly.")))),(0,i.mdx)(l,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,i.mdx)("p",null,"If you do not correctly create a custom field group or add a custom field to that group before creating custom metadata in your API request, you will not receive an error in response. The API service has no way of currently verifying that these customizations have been previously created. Make sure you carefully follow the steps as described in ",(0,i.mdx)("a",{parentName:"p",href:"https://experienceleague.adobe.com/en/docs/platform-learn/tutorials/schemas/create-schema-field-groups"},"Create schema field groups")," or your custom metadata will not work and you will not be notified by an error response."))}c.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-endpoints-media-edge-custom-metadata-md-9b47afd5d84dcbe4fc88.js.map